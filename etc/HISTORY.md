# 🛠 2025-02-26 수정 내역

### 📌 수정 작업자  
- 김성우

---

## 🧩 수정 배경

- 프로젝트 중 각 담당 파트의 코드를 통합하는 과정에서 **Review 게시판 기능이 정상 작동하지 않는 문제** 발생.
- 담당 팀원과의 코드 리뷰 결과, 해당 문제가 **기한 내 해결되기 어려운 상황**으로 판단됨.
- 비록 Review 게시판은 본인의 담당 파트는 아니었으나, **프로젝트 팀장이자 백엔드 총괄 담당자**로서 직접 수정 진행.

---

## 🐞 문제 원인

### 1. 비효율적인 구조
- 리뷰 게시물에 **5가지 만족도 항목**(라디오 버튼 체크)을 추가하면서, 이를 별도의 `Entity`, `DTO`, `Repository`로 분리.
- 단순 `Integer` 필드 몇 개를 처리하기 위해 **과도하게 복잡한 구조**가 형성됨.
- 이로 인해 작성, 조회, 삭제 기능에서 **불필요한 로직과 중복 코드**가 다수 발생.

### 2. DTO의 잘못된 사용
- `Request DTO`와 `Response DTO`를 분리해두었으나, 실제로는 `ReviewWriteDto.java` 내에서 `fromEntity`, `toEntity` 메서드를 **하나의 DTO에 혼용**.
- `ResResponseDto.java`에서 **필요한 정보를 매핑하지 않아** 일부 정보가 게시물 조회 시 누락됨.

> 위 외에도 전반적으로 코드가 **의도대로 작동하지 않거나, 유지보수가 어려운 구조**가 다수 발견됨.

---

## 🔧 수정 내역

### 1. `ReviewSurvey` 삭제 및 통합
- **불필요하게 분리되어 있던 `ReviewSurvey` 관련 로직 전체 제거**.
- 단순 만족도 항목들을 `Review Entity` 내 필드로 통합.
- 해당 변경으로 인해 `Service` 및 `Repository` 레이어의 **복잡도 대폭 감소**.

### 2. DTO의 역할 명확화
- `Request DTO` / `Response DTO`를 **기능별로 분리**.
- `Request DTO`에서는 `fromEntity` 제거 → 프론트엔드에서 전달한 값을 명확히 받을 수 있도록 변경.
- `Response DTO`에서는 `fromEntity` 메서드 추가 → 게시물 조회 시 필요한 정보를 담을 수 있도록 수정.

### 3. 전반적인 코드 리팩토링
- **조회수 증가 메서드를 `Entity` 내부 메서드로 이동**하고, 필요한 서비스에서 호출하도록 개선.
- 불필요하거나 반복되는 코드 정리, 메서드 분리 등 **가독성과 유지보수성을 높이기 위한 리팩토링 전반 수행**.

---

## ✅ 작업 결과

- **Review 게시판 기능이 정상적으로 작동**함을 확인.
- 해당 수정 내역 및 이유를 **담당 팀원에게 상세히 전달**.
- 문제 해결 과정을 체득할 수 있도록 **관련 보고서 작성 지시**.

